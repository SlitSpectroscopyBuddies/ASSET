var documenterSearchIndex = {"docs":
[{"location":"#ASSET-Documentation","page":"ASSET Documentation","title":"ASSET Documentation","text":"","category":"section"},{"location":"#Theoretical-Background","page":"ASSET Documentation","title":"Theoretical Background","text":"The method used in the ASSET package requires the following maps as inputs: \n\ndata maps (d_ell)_ell in 1L, where L is the amount of dithers/acquisitions/frames;\nweights maps w_ell, where each element can be computed as the inverse variance of the pixel, forming the matrix W_ell= Sigma_ell^-2. We assume that a defective pixel or artifacts have an infinite variance, i.e. a zero entry in W_ell;\nspatial coordinate maps X_ell where 0 should correspond to the center of the studied object;\nspectral coordinate maps Lambda_ell.\n\nThe method outputs are the extracted spectrum z, sampled over a given regular wavelength grid (lambda_n)_n in 1N, and the parameters theta of the fitted PSF model. They are obtained by solving:  \n\n$\n\nz,\\theta \\in \\mathrm{arg min} \\Big{\\sum\\ell\\Vert d\\ell - (m\\ell(z,\\theta) + b)\\Vert{W{\\ell}}^2 + \\muz\\mathcal{R}z(z) + \\mu\\theta\\mathcal{R}\\theta(\\theta) + \\mub\\mathcal{R}b(b), \\Big} $ where \\mathcal{R}z mathcalR_theta and mathcalR_b are respectively the regularization of the extracted spectra, of the PSF parameters if required and of the background, with hyperparameters mu_z, mu_theta and mu_b. The spatial distribution maps X and the background map b are auto-calibrated in the process.  The model of the data $ m\\ell(z,\\theta) = \\alpha\\ell Z(\\Lambda\\ell,z) \\odot H(\\theta, X\\ell, \\Lambda\\ell) $ is the Hadamard (element-wise) product of the spectrum interpolated in the camera plane $ Z(\\Lambda,z){j,k}=\\sumn\\phi\\Big(\\frac{\\Lambda{j,k}-\\lambdan}{\\delta\\lambda}\\Big)z_n $\n\nwith phi an interpolation kernel, and of the chromatic PSF H (parametric or non-parametric). The package provide several ParametricPSF and NonParametricPSF and the users can easily implement their own. A ParametricPSF  H is a function parametrized by a few unknown variables theta_m, thus with low degrees of freedom, e.g. a Gaussian chromatic with a minimum width model: $ H(\\theta, X\\ell, \\Lambda\\ell){j,k} = \\big(2 \\pi(\\theta1 \\Lambda{j,k\\ell}^2 + \\theta2)\\big)^{-1}\\exp\\Big(-\\frac{X{j,k,\\ell}^2}{2(\\theta1\\Lambda{j,k,\\ell}^2+\\theta2)}\\Big). $\n\nIt does not require any regularization. See @The:2023 and @Denneulin:2023 for more details. \n\nA NonParametricPSF is parametrized directly by some profile (theta_m)_m in  1M, thus with high degrees of freedom , e.g. taking o order of the speckles expansion model [@Devaney:2017] which is the interpolation of the profiles theta_o in a reference plane of the spatial coordinates (x_m)_m in 1M,: $ H(\\theta, X\\ell, \\Lambda\\ell){j,k} = \\sumo \\gamma(\\Lambda\\ell)^o \\summ \\phi\\Big(\\frac{\\gamma(\\Lambda\\ell)X\\ell - xm}{\\delta x}\\Big)\\theta{m,o}(x_m). $\n\nFor such a PSF, theta must be regularized. The hyperparameter is auto-calibrated in the method (see @The:2023 for and references therein for more details). \n\n\n\n","category":"section"},{"location":"#ASSET.ChromaticSeriesExpansionsInterpolator","page":"ASSET Documentation","title":"ASSET.ChromaticSeriesExpansionsInterpolator","text":"struct ChromaticSeriesExpansionsInterpolator <: LinearMapping\n\nA structure representing a chromatic series expansions interpolator, which performs linear mapping operations for chromatic data interpolation. \n\nArguments\n\ncols: Tuple specifying the number of columns (output dimensions). \nrows: Tuple specifying the number of rows (input dimensions).\nker: Kernel object used for interpolation.\nX: Array of input positions.\nΛ: Array of wavelength or chromatic values.\nx: Range of positions for interpolation.\nλref: Reference wavelength for normalization.\na: Parameter for scaling or regularization.\n\n\n\nChromaticSeriesExpansionsInterpolator{T}(ker::Kernel, X::AbstractArray{T,N}, Λ::AbstractArray{T,N}, x::AbstractRange; order=1, λref=maximum(Λ), a=0.)\n\nConstructs a ChromaticSeriesExpansionsInterpolator with specified kernel, input arrays, and interpolation range. Optionally specify the interpolation order, reference wavelength, and scaling parameter. \n\nArguments\n\nker: Interpolation kernel.\nX: Input position array.\nΛ: Input wavelength/chromatic array.\nx: Range of positions for interpolation.\norder: Interpolation order (default: 1).\nλref: Reference wavelength (default: maximum of Λ).\na: Scaling parameter (default: 0).\n\n\n\nChromaticSeriesExpansionsInterpolator(ker::Kernel, X::AbstractArray{<:Any,N}, Λ::AbstractArray{<:Any,N}, x::AbstractRange; order=1, λref=maximum(Λ), a=0.)\n\nConstructs a ChromaticSeriesExpansionsInterpolator with type promotion to Float64 for the input arrays.\n\n\n\n\n\n","category":"type"},{"location":"#ASSET.CalibratedData","page":"ASSET Documentation","title":"ASSET.CalibratedData","text":"struct CalibratedData{T<:AbstractFloat, N, D<:AbstractArray{T,N}}\n\nA container for storing calibrated scientific data and associated weights  w, the angular separation ρ_map and wavelength λ_map maps calibrating the detector.\n\nArguments\n\nd::D: The main scientific data array.\nw::D: The weight array corresponding to the data.\nρ_map::D: The spatial map associated with the data.\nλ_map::D: The spectral map associated with the data.\n\nThe Base methods axes, size, eltype and show have been overload to be used with such a structure.\n\n\n\n\n\n","category":"type"}]
}
